<!-- <span> -->
  <!-- <input type="text" name ="rechercheFacteur" [(ngModel)]="FacteurRecherche"  (keyup)="rechercheFacteur()" placeholder=""> -->
<!-- <span><button type="button" class="btn btn-outline-primary" (click)="rechercheToutFacteur()">tous</button></span> -->
<!-- <span><button type="button" class="btn btn-outline-primary" (click)="AffichagenouveauFacteur()">Nouveau Facteur</button></span> -->
<button type="submit" (click)="rechercheToutFacteur()">Afficher Tous les facteurs</button>
<button *ngIf="compte.Type == 1" type="submit" (click)="AffichagenouveauFacteur()">Nouveau Facteur</button>
<!-- </span> -->
<hr>
<div *ngIf="AffichageNouveauFacteur">
    <form>
        <div class="wrap-form_content">
        <div class="form-group">
          <label>Nom</label>
          <input type="text" name ="Identifiant" [(ngModel)]="NouveauFacteur.Nom" placeholder="Nom">
  
          <label>Question</label>
          <input type="text" name ="Question" [(ngModel)]="NouveauFacteur.Question" placeholder="Question">
     
          <label>Type de Facteur</label>
          <div class="btn-group">
            <button type="button">{{texttypeFacteur}}</button>
            <div ngbDropdown role="group" aria-label="Button group with nested dropdown">
              <button ngbDropdownToggle></button>
              <div class="dropdown-menu" ngbDropdownMenu>
                <div *ngFor="let TypeFacteur of facteurService.ListeTypeFacteur;let j=index">
                  <button class="dropdown-item" type="button" (click)="ChoisiTypeFacteur(TypeFacteur)">{{TypeFacteur.Type}}</button>
                </div>
              </div>
            </div>
          </div>
          <label>Type de Réponse</label>
          <div class="btn-group">
            <button type="button">{{texttypeReponse}}</button>
            <div ngbDropdown role="group" aria-label="Button group with nested dropdown">
              <button ngbDropdownToggle></button>
              <div class="dropdown-menu" ngbDropdownMenu>
                <div *ngFor="let TypeReponse of facteurService.ListeTypeReponse;let j=index">
                  <button class="dropdown-item" type="button" (click)="ChoisiTypeReponse(TypeReponse)">{{TypeReponse.Type}}</button>
                </div>
              </div>
            </div>
          </div>
      </div>




        <!-- <div class="form-row">
          <label class="col-sm-3 col-form-label">Nom</label>
          <div class="col-sm-8">
            <input class="form-control form-control-sm" type="text" [(ngModel)]="NouveauFacteur.Nom" name="Nom" placeholder="Nom">
          </div>
        </div>
        <div class="form-row">
          <label class="col-sm-3 col-form-label">Question</label>
          <div class="col-sm-8">
            <input class="form-control form-control-sm" type="text" [(ngModel)]="NouveauFacteur.Question" name="Question" placeholder="Question">
          </div>
        </div>  
        <div class="form-row">
            <label class="col-sm-3 col-form-label">Type</label>
            <div class="btn-group">
                <button type="button" class="btn btn-primary">{{texttypeFacteur}}</button>
                <div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown">
                  <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle></button>
                  <div class="dropdown-menu" ngbDropdownMenu>
                    <div *ngFor="let TypeFacteur of facteurService.ListeTypeFacteur;let j=index">
                      <button class="dropdown-item" type="button" (click)="ChoisiTypeFacteur(TypeFacteur)">{{TypeFacteur.Type}}</button>
                    </div>
                  </div>
                </div>
              </div>
          </div> 
          <div class="form-row">
              <label class="col-sm-3 col-form-label">Type</label>
              <div class="btn-group">
                  <button type="button" class="btn btn-primary">{{texttypeReponse}}</button>
                  <div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown">
                    <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle></button>
                    <div class="dropdown-menu" ngbDropdownMenu>
                      <div *ngFor="let TypeReponse of facteurService.ListeTypeReponse;let j=index">
                        <button class="dropdown-item" type="button" (click)="ChoisiTypeReponse(TypeReponse)">{{TypeReponse.Type}}</button>
                      </div>
                    </div>
                  </div>
                </div>
            </div> 
          <hr> -->

        <button type="submit" (click)="AjoutNouveauFacteur()">Ajouter</button>
        <button type="submit" (click)="Annule()">Annuler</button>
        </div>
    </form>    
</div>
<div *ngIf="AffichageModificationFacteur">
    <form>


      <div class="wrap-form_content">
          <div class="form-group">
            <label>Nom</label>
            <input type="text" name ="Identifiant" [(ngModel)]="NouveauFacteur.Nom" placeholder="Nom">
    
            <label>Question</label>
            <input type="text" name ="Question" [(ngModel)]="NouveauFacteur.Question" placeholder="Question">
        
            <label>Type de Facteur</label>
            <div class="btn-group">
              <button type="button">{{texttypeFacteur}}</button>
              <div ngbDropdown role="group" aria-label="Button group with nested dropdown">
                <button ngbDropdownToggle></button>
                <div class="dropdown-menu" ngbDropdownMenu>
                  <div *ngFor="let TypeFacteur of facteurService.ListeTypeFacteur;let j=index">
                    <button class="dropdown-item" type="button" (click)="ChoisiTypeFacteur(TypeFacteur)">{{TypeFacteur.Type}}</button>
                  </div>
                </div>
              </div>
            </div>
            <label>Type de Réponse</label>
            <div class="btn-group">
              <button type="button">{{texttypeReponse}}</button>
              <div ngbDropdown role="group" aria-label="Button group with nested dropdown">
                <button ngbDropdownToggle></button>
                <div class="dropdown-menu" ngbDropdownMenu>
                  <div *ngFor="let TypeReponse of facteurService.ListeTypeReponse;let j=index">
                    <button class="dropdown-item" type="button" (click)="ChoisiTypeReponse(TypeReponse)">{{TypeReponse.Type}}</button>
                  </div>
                </div>
              </div>
            </div>
            </div>
          </div>
          <hr>
        <!-- <button type="submit" class="btn btn-outline-primary" (click)="ModificationFacteur()">Modifier</button>
        <button type="submit" class="btn btn-outline-primary" (click)="Annule()">Annuler</button> -->
        <button type="submit" (click)="ModificationFacteur()">Modifier</button>
        <button type="submit" (click)="Annule()">Annuler</button>
    </form>  
    
    
        <!-- <div class="form-row">
          <label class="col-sm-3 col-form-label">Nom</label>
          <div class="col-sm-8">
            <input class="form-control form-control-sm" type="text" [(ngModel)]="NouveauFacteur.Nom" name="Nom" placeholder="Nom">
          </div>
        </div>
        <div class="form-row">
          <label class="col-sm-3 col-form-label">Question</label>
          <div class="col-sm-8">
            <input class="form-control form-control-sm" type="text" [(ngModel)]="NouveauFacteur.Question" name="Question" placeholder="Question">
          </div>
        </div>  

        

        <div class="form-row">
          <label class="col-sm-3 col-form-label">Type Question</label>
          <div class="btn-group">
              <button type="button" class="btn btn-primary">{{texttypeFacteur}}</button>
              <div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown">
                <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle></button>
                <div class="dropdown-menu" ngbDropdownMenu>
                  <div *ngFor="let TypeFacteur of facteurService.ListeTypeFacteur;let j=index">
                    <button class="dropdown-item" type="button" (click)="ChoisiTypeFacteur(TypeFacteur)">{{TypeFacteur.Type}}</button>
                  </div>
                </div>
              </div>
            </div>
        </div> 
        <div class="form-row">
            <label class="col-sm-3 col-form-label">Type réponse</label>
            <div class="btn-group">
                <button type="button" class="btn btn-primary">{{texttypeReponse}}</button>
                <div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown">
                  <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle></button>
                  <div class="dropdown-menu" ngbDropdownMenu>
                    <div *ngFor="let TypeReponse of facteurService.ListeTypeReponse;let j=index">
                      <button class="dropdown-item" type="button" (click)="ChoisiTypeReponse(TypeReponse)">{{TypeReponse.Type}}</button>
                    </div>
                  </div>
                </div>
              </div>
          </div>  -->
</div>


<div class="AffichageFacteur" *ngIf="ListFacteur && ListFacteur.length > 0">
  <!-- <ng-template #popContent>
      <b>nom : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.Nom}}</span><br/>
      <b>Question : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.Question}}</span><br/>
      <b>Type de facteur : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.TypeDeFacteur.Type}}</span><br/>
      <b>Type de réponse : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.TypeDeReponse.Type}}</span><br/>
      <b>Information : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.TypeDeReponse.Information}}</span><br/>
  </ng-template>
  <table class="table table-hover table-dark">
      <thead>
          <tr>
              <th scope="col">Nom</th>
              <th scope="col">Question</th>
              <th scope="col">Modifier</th>
              <th scope="col">Supprimer</th>
              <th scope="col">Ajouter Au Patient</th>
          </tr>
        </thead>
        <tbody>
            <tr *ngFor="let facteur of ListFacteur" [ngbPopover]="popContent" triggers="mouseenter:mouseleave" [class.selected]="facteur == FacteurSelectionne" (mouseenter)="Information(facteur)">
              <td>{{facteur.Nom}}</td>
              <td>{{facteur.Question}}</td>
              <td><button type="button" class="btn btn-outline-primary" (click)="Modifier(facteur)">Modifier</button></td>
              <td><button type="button" class="btn btn-outline-primary" (click)="Supprimer(facteur)">Supprimer</button></td>
              <td><button type="button" class="btn btn-outline-primary" (click)="AjouterAPatient(facteur)">Ajouter</button></td>
            </tr>
        </tbody>
  </table> -->

  <div class="TableFacteur" >
    <ng-template #popContent>
        <b>nom : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.Nom}}</span><br/>
        <b>Question : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.Question}}</span><br/>
        <b>Type de facteur : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.TypeDeFacteur.Type}}</span><br/>
        <b>Type de réponse : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.TypeDeReponse.Type}}</span><br/>
        <b>Information : </b><span style="color:rgb(150, 150, 150);">{{FacteurAffichage.TypeDeReponse.Information}}</span><br/>
    </ng-template>
    <div class="example-header">
      <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
      </mat-form-field>
    </div>
    <mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="Nom">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Nom</mat-header-cell>
        <mat-cell *matCellDef="let Facteur">{{Facteur.Nom}}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="Question">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Question</mat-header-cell>
        <mat-cell *matCellDef="let Facteur">{{Facteur.Question}}</mat-cell>
      </ng-container>
      <div *ngIf="compte.Type == 1">
        <ng-container  matColumnDef="Modifier">
          <mat-header-cell *matHeaderCellDef> Modifier</mat-header-cell>
          <mat-cell *matCellDef="let Facteur"><button type="submit" *ngIf="compte.Type == 1" (click)="Modifier(Facteur)">Modifier</button></mat-cell>
        </ng-container>

        <ng-container  matColumnDef="Supprimer">
          <mat-header-cell *matHeaderCellDef> Supprimer</mat-header-cell>
          <mat-cell *matCellDef="let Facteur"><button type="submit" *ngIf="compte.Type == 1" (click)="Supprimer(Facteur)">Supprimer</button></mat-cell>
        </ng-container>
      </div>
    
      <ng-container matColumnDef="Ajouter">
        <mat-header-cell *matHeaderCellDef> Ajouter au patient</mat-header-cell>
        <mat-cell *matCellDef="let Facteur"><button type="submit" (click)="AjouterAPatient(Facteur)">Ajouter</button></mat-cell>
      </ng-container>
    

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns" [ngbPopover]="popContent" triggers="mouseenter:mouseleave" [class.selected]="row == FacteurSelectionne" (mouseenter)="Information(row)"></mat-row>


    </mat-table>
    <mat-paginator #paginator
      [pageSize]="5"
      [pageSizeOptions]="[5, 10, 20]"
      [showFirstLastButtons]="true">
    </mat-paginator>
  </div>
</div>




